     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_api_malloc
     7 00000000                                 	EXTERN	_api_linewin
     8 00000000                                 	EXTERN	_api_refreshwin
     9 00000000                                 	EXTERN	_api_boxfilwin
    10 00000000                                 	EXTERN	_sprintf
    11 00000000                                 	EXTERN	_api_putstrwin
    12 00000000                                 	EXTERN	_api_initmalloc
    13 00000000                                 	EXTERN	_api_openwin
    14 00000000                                 	EXTERN	_api_getkey
    15 00000000                                 [FILE "hanoi.c"]
    16 00000000                                 	GLOBAL	_out_size
    17                                          [SECTION .data]
    18 00000000                                 	ALIGNB	4
    19 00000000                                 _out_size:
    20 00000000 00000000                        	DD	0
    21 00000004                                 	GLOBAL	_out_location
    22 00000004                                 	ALIGNB	4
    23 00000004                                 _out_location:
    24 00000004 00000000                        	DD	0
    25 00000008                                 	GLOBAL	_level
    26 00000008                                 	ALIGNB	4
    27 00000008                                 _level:
    28 00000008 00000003                        	DD	3
    29 0000000C                                 	GLOBAL	_step
    30 0000000C                                 	ALIGNB	4
    31 0000000C                                 _step:
    32 0000000C 00000000                        	DD	0
    33                                          [SECTION .text]
    34 00000000                                 	GLOBAL	_hanoi_init
    35 00000000                                 _hanoi_init:
    36 00000000 55                              	PUSH	EBP
    37 00000001 89 E5                           	MOV	EBP,ESP
    38 00000003 56                              	PUSH	ESI
    39 00000004 53                              	PUSH	EBX
    40 00000005 31 DB                           	XOR	EBX,EBX
    41 00000007 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
    42 0000000A                                 L11:
    43 0000000A A1 [00000008]                   	MOV	EAX,DWORD [_level]
    44 0000000F C1 E0 02                        	SAL	EAX,2
    45 00000012 50                              	PUSH	EAX
    46 00000013 E8 [00000000]                   	CALL	_api_malloc
    47 00000018 31 D2                           	XOR	EDX,EDX
    48 0000001A 3B 15 [00000008]                	CMP	EDX,DWORD [_level]
    49 00000020 89 04 9D [00000040]             	MOV	DWORD [_hanois+EBX*4],EAX
    50 00000027 59                              	POP	ECX
    51 00000028 7D 10                           	JGE	L20
    52 0000002A                                 L10:
    53 0000002A C7 04 90 00000000               	MOV	DWORD [EAX+EDX*4],0
    54 00000031 42                              	INC	EDX
    55 00000032 3B 15 [00000008]                	CMP	EDX,DWORD [_level]
    56 00000038 7C F0                           	JL	L10
    57 0000003A                                 L20:
    58 0000003A 43                              	INC	EBX
    59 0000003B 83 FB 02                        	CMP	EBX,2
    60 0000003E 7E CA                           	JLE	L11
    61 00000040 31 DB                           	XOR	EBX,EBX
    62 00000042 A1 [00000008]                   	MOV	EAX,DWORD [_level]
    63 00000047 39 C3                           	CMP	EBX,EAX
    64 00000049 7D 15                           	JGE	L22
    65 0000004B 8B 15 [00000040]                	MOV	EDX,DWORD [_hanois]
    66 00000051                                 L16:
    67 00000051 29 D8                           	SUB	EAX,EBX
    68 00000053 89 04 9A                        	MOV	DWORD [EDX+EBX*4],EAX
    69 00000056 43                              	INC	EBX
    70 00000057 A1 [00000008]                   	MOV	EAX,DWORD [_level]
    71 0000005C 39 C3                           	CMP	EBX,EAX
    72 0000005E 7C F1                           	JL	L16
    73 00000060                                 L22:
    74 00000060 89 75 08                        	MOV	DWORD [8+EBP],ESI
    75 00000063 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
    76 00000066 5B                              	POP	EBX
    77 00000067 5E                              	POP	ESI
    78 00000068 5D                              	POP	EBP
    79 00000069 E9 00000105                     	JMP	_hanoi_print
    80 0000006E                                 	GLOBAL	_triangle_print
    81 0000006E                                 _triangle_print:
    82 0000006E 55                              	PUSH	EBP
    83 0000006F 89 E5                           	MOV	EBP,ESP
    84 00000071 57                              	PUSH	EDI
    85 00000072 56                              	PUSH	ESI
    86 00000073 53                              	PUSH	EBX
    87 00000074 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
    88 00000077 8B 5D 10                        	MOV	EBX,DWORD [16+EBP]
    89 0000007A 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
    90 0000007D 89 D8                           	MOV	EAX,EBX
    91 0000007F 29 F0                           	SUB	EAX,ESI
    92 00000081 85 C0                           	TEST	EAX,EAX
    93 00000083 7E 1C                           	JLE	L29
    94 00000085                                 L27:
    95 00000085 6A 01                           	PUSH	1
    96 00000087 57                              	PUSH	EDI
    97 00000088 53                              	PUSH	EBX
    98 00000089 4B                              	DEC	EBX
    99 0000008A 57                              	PUSH	EDI
   100 0000008B 47                              	INC	EDI
   101 0000008C 56                              	PUSH	ESI
   102 0000008D 46                              	INC	ESI
   103 0000008E FF 75 08                        	PUSH	DWORD [8+EBP]
   104 00000091 E8 [00000000]                   	CALL	_api_linewin
   105 00000096 89 D8                           	MOV	EAX,EBX
   106 00000098 29 F0                           	SUB	EAX,ESI
   107 0000009A 83 C4 18                        	ADD	ESP,24
   108 0000009D 85 C0                           	TEST	EAX,EAX
   109 0000009F 7F E4                           	JG	L27
   110 000000A1                                 L29:
   111 000000A1 68 000000C1                     	PUSH	193
   112 000000A6 68 00000127                     	PUSH	295
   113 000000AB 6A 1A                           	PUSH	26
   114 000000AD 6A 06                           	PUSH	6
   115 000000AF FF 75 08                        	PUSH	DWORD [8+EBP]
   116 000000B2 E8 [00000000]                   	CALL	_api_refreshwin
   117 000000B7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   118 000000BA 5B                              	POP	EBX
   119 000000BB 5E                              	POP	ESI
   120 000000BC 5F                              	POP	EDI
   121 000000BD 5D                              	POP	EBP
   122 000000BE C3                              	RET
   123 000000BF                                 	GLOBAL	_item_print
   124 000000BF                                 _item_print:
   125 000000BF 55                              	PUSH	EBP
   126 000000C0 89 E5                           	MOV	EBP,ESP
   127 000000C2 57                              	PUSH	EDI
   128 000000C3 56                              	PUSH	ESI
   129 000000C4 53                              	PUSH	EBX
   130 000000C5 53                              	PUSH	EBX
   131 000000C6 53                              	PUSH	EBX
   132 000000C7 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   133 000000CA 85 C0                           	TEST	EAX,EAX
   134 000000CC 75 08                           	JNE	L33
   135 000000CE                                 L30:
   136 000000CE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   137 000000D1 5B                              	POP	EBX
   138 000000D2 5E                              	POP	ESI
   139 000000D3 5F                              	POP	EDI
   140 000000D4 5D                              	POP	EBP
   141 000000D5 C3                              	RET
   142 000000D6                                 L33:
   143 000000D6 8D 04 C5 00000004               	LEA	EAX,DWORD [4+EAX*8]
   144 000000DD B9 00000002                     	MOV	ECX,2
   145 000000E2 99                              	CDQ
   146 000000E3 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   147 000000E6 6A 01                           	PUSH	1
   148 000000E8 F7 F9                           	IDIV	ECX
   149 000000EA 6B 5D 0C 5A                     	IMUL	EBX,DWORD [12+EBP],90
   150 000000EE 6B 7D 10 0F                     	IMUL	EDI,DWORD [16+EBP],15
   151 000000F2 89 DE                           	MOV	ESI,EBX
   152 000000F4 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   153 000000F7 29 C6                           	SUB	ESI,EAX
   154 000000F9 8D 5C 18 42                     	LEA	EBX,DWORD [66+EAX+EBX*1]
   155 000000FD B8 000000C1                     	MOV	EAX,193
   156 00000102 B9 000000B7                     	MOV	ECX,183
   157 00000107 29 F8                           	SUB	EAX,EDI
   158 00000109 29 F9                           	SUB	ECX,EDI
   159 0000010B 50                              	PUSH	EAX
   160 0000010C 83 C6 38                        	ADD	ESI,56
   161 0000010F 53                              	PUSH	EBX
   162 00000110 51                              	PUSH	ECX
   163 00000111 56                              	PUSH	ESI
   164 00000112 FF 75 08                        	PUSH	DWORD [8+EBP]
   165 00000115 E8 [00000000]                   	CALL	_api_boxfilwin
   166 0000011A 83 C4 18                        	ADD	ESP,24
   167 0000011D EB AF                           	JMP	L30
   168 0000011F                                 	GLOBAL	_outitem_print
   169 0000011F                                 _outitem_print:
   170 0000011F 55                              	PUSH	EBP
   171 00000120 89 E5                           	MOV	EBP,ESP
   172 00000122 53                              	PUSH	EBX
   173 00000123 50                              	PUSH	EAX
   174 00000124 50                              	PUSH	EAX
   175 00000125 A1 [00000000]                   	MOV	EAX,DWORD [_out_size]
   176 0000012A 85 C0                           	TEST	EAX,EAX
   177 0000012C 75 05                           	JNE	L37
   178 0000012E                                 L34:
   179 0000012E 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   180 00000131 C9                              	LEAVE
   181 00000132 C3                              	RET
   182 00000133                                 L37:
   183 00000133 8D 04 C5 00000004               	LEA	EAX,DWORD [4+EAX*8]
   184 0000013A BB 00000002                     	MOV	EBX,2
   185 0000013F 99                              	CDQ
   186 00000140 89 45 F8                        	MOV	DWORD [-8+EBP],EAX
   187 00000143 6A 01                           	PUSH	1
   188 00000145 F7 FB                           	IDIV	EBX
   189 00000147 6B 0D [00000004] 5A             	IMUL	ECX,DWORD [_out_location],90
   190 0000014E 89 45 F4                        	MOV	DWORD [-12+EBP],EAX
   191 00000151 6A 2D                           	PUSH	45
   192 00000153 8B 55 F4                        	MOV	EDX,DWORD [-12+EBP]
   193 00000156 89 C8                           	MOV	EAX,ECX
   194 00000158 2B 45 F4                        	SUB	EAX,DWORD [-12+EBP]
   195 0000015B 8D 4C 0A 42                     	LEA	ECX,DWORD [66+EDX+ECX*1]
   196 0000015F 51                              	PUSH	ECX
   197 00000160 83 C0 38                        	ADD	EAX,56
   198 00000163 6A 23                           	PUSH	35
   199 00000165 50                              	PUSH	EAX
   200 00000166 FF 75 08                        	PUSH	DWORD [8+EBP]
   201 00000169 E8 [00000000]                   	CALL	_api_boxfilwin
   202 0000016E 83 C4 18                        	ADD	ESP,24
   203 00000171 EB BB                           	JMP	L34
   204                                          [SECTION .data]
   205 00000010                                 LC0:
   206 00000010 25 64 00                        	DB	"%d",0x00
   207                                          [SECTION .text]
   208 00000173                                 	GLOBAL	_hanoi_print
   209 00000173                                 _hanoi_print:
   210 00000173 55                              	PUSH	EBP
   211 00000174 89 E5                           	MOV	EBP,ESP
   212 00000176 57                              	PUSH	EDI
   213 00000177 56                              	PUSH	ESI
   214 00000178 31 F6                           	XOR	ESI,ESI
   215 0000017A 53                              	PUSH	EBX
   216 0000017B 8D 5D E4                        	LEA	EBX,DWORD [-28+EBP]
   217 0000017E 83 EC 10                        	SUB	ESP,16
   218 00000181 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   219 00000184 6A 00                           	PUSH	0
   220 00000186 68 000000C1                     	PUSH	193
   221 0000018B 68 00000127                     	PUSH	295
   222 00000190 6A 1A                           	PUSH	26
   223 00000192 6A 06                           	PUSH	6
   224 00000194 57                              	PUSH	EDI
   225 00000195 E8 [00000000]                   	CALL	_api_boxfilwin
   226 0000019A 6A 06                           	PUSH	6
   227 0000019C 68 000000C1                     	PUSH	193
   228 000001A1 6A 42                           	PUSH	66
   229 000001A3 6A 35                           	PUSH	53
   230 000001A5 6A 38                           	PUSH	56
   231 000001A7 57                              	PUSH	EDI
   232 000001A8 E8 [00000000]                   	CALL	_api_boxfilwin
   233 000001AD 83 C4 30                        	ADD	ESP,48
   234 000001B0 6A 06                           	PUSH	6
   235 000001B2 68 000000C1                     	PUSH	193
   236 000001B7 68 0000009C                     	PUSH	156
   237 000001BC 6A 35                           	PUSH	53
   238 000001BE 68 00000092                     	PUSH	146
   239 000001C3 57                              	PUSH	EDI
   240 000001C4 E8 [00000000]                   	CALL	_api_boxfilwin
   241 000001C9 6A 06                           	PUSH	6
   242 000001CB 68 000000C1                     	PUSH	193
   243 000001D0 68 000000F6                     	PUSH	246
   244 000001D5 6A 35                           	PUSH	53
   245 000001D7 68 000000EC                     	PUSH	236
   246 000001DC 57                              	PUSH	EDI
   247 000001DD E8 [00000000]                   	CALL	_api_boxfilwin
   248 000001E2 83 C4 30                        	ADD	ESP,48
   249 000001E5 6B 05 [00000004] 5A             	IMUL	EAX,DWORD [_out_location],90
   250 000001EC 6A 1C                           	PUSH	28
   251 000001EE 8D 50 43                        	LEA	EDX,DWORD [67+EAX]
   252 000001F1 83 C0 38                        	ADD	EAX,56
   253 000001F4 52                              	PUSH	EDX
   254 000001F5 50                              	PUSH	EAX
   255 000001F6 57                              	PUSH	EDI
   256 000001F7 E8 FFFFFE72                     	CALL	_triangle_print
   257 000001FC FF 35 [0000000C]                	PUSH	DWORD [_step]
   258 00000202 68 [00000010]                   	PUSH	LC0
   259 00000207 53                              	PUSH	EBX
   260 00000208 E8 [00000000]                   	CALL	_sprintf
   261 0000020D 53                              	PUSH	EBX
   262 0000020E 6A 08                           	PUSH	8
   263 00000210 6A 03                           	PUSH	3
   264 00000212 6A 1A                           	PUSH	26
   265 00000214 68 000000F0                     	PUSH	240
   266 00000219 57                              	PUSH	EDI
   267 0000021A E8 [00000000]                   	CALL	_api_putstrwin
   268 0000021F 83 C4 34                        	ADD	ESP,52
   269 00000222 57                              	PUSH	EDI
   270 00000223 E8 FFFFFEF7                     	CALL	_outitem_print
   271 00000228 58                              	POP	EAX
   272 00000229                                 L48:
   273 00000229 31 DB                           	XOR	EBX,EBX
   274 0000022B 3B 1D [00000008]                	CMP	EBX,DWORD [_level]
   275 00000231 7C 0E                           	JL	L47
   276 00000233                                 L52:
   277 00000233 46                              	INC	ESI
   278 00000234 83 FE 02                        	CMP	ESI,2
   279 00000237 7E F0                           	JLE	L48
   280 00000239 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   281 0000023C 5B                              	POP	EBX
   282 0000023D 5E                              	POP	ESI
   283 0000023E 5F                              	POP	EDI
   284 0000023F 5D                              	POP	EBP
   285 00000240 C3                              	RET
   286 00000241                                 L47:
   287 00000241 8B 04 B5 [00000040]             	MOV	EAX,DWORD [_hanois+ESI*4]
   288 00000248 FF 34 98                        	PUSH	DWORD [EAX+EBX*4]
   289 0000024B 53                              	PUSH	EBX
   290 0000024C 43                              	INC	EBX
   291 0000024D 56                              	PUSH	ESI
   292 0000024E 57                              	PUSH	EDI
   293 0000024F E8 FFFFFE6B                     	CALL	_item_print
   294 00000254 83 C4 10                        	ADD	ESP,16
   295 00000257 3B 1D [00000008]                	CMP	EBX,DWORD [_level]
   296 0000025D 7C E2                           	JL	L47
   297 0000025F EB D2                           	JMP	L52
   298 00000261                                 	GLOBAL	_hanoi_left
   299 00000261                                 _hanoi_left:
   300 00000261 55                              	PUSH	EBP
   301 00000262 A1 [00000004]                   	MOV	EAX,DWORD [_out_location]
   302 00000267 89 E5                           	MOV	EBP,ESP
   303 00000269 85 C0                           	TEST	EAX,EAX
   304 0000026B 75 02                           	JNE	L56
   305 0000026D 5D                              	POP	EBP
   306 0000026E C3                              	RET
   307 0000026F                                 L56:
   308 0000026F 48                              	DEC	EAX
   309 00000270 5D                              	POP	EBP
   310 00000271 A3 [00000004]                   	MOV	DWORD [_out_location],EAX
   311 00000276 E9 FFFFFEF8                     	JMP	_hanoi_print
   312 0000027B                                 	GLOBAL	_hanoi_right
   313 0000027B                                 _hanoi_right:
   314 0000027B 55                              	PUSH	EBP
   315 0000027C A1 [00000004]                   	MOV	EAX,DWORD [_out_location]
   316 00000281 89 E5                           	MOV	EBP,ESP
   317 00000283 83 F8 02                        	CMP	EAX,2
   318 00000286 74 0C                           	JE	L57
   319 00000288 40                              	INC	EAX
   320 00000289 5D                              	POP	EBP
   321 0000028A A3 [00000004]                   	MOV	DWORD [_out_location],EAX
   322 0000028F E9 FFFFFEDF                     	JMP	_hanoi_print
   323 00000294                                 L57:
   324 00000294 5D                              	POP	EBP
   325 00000295 C3                              	RET
   326 00000296                                 	GLOBAL	_hanoi_gettop
   327 00000296                                 _hanoi_gettop:
   328 00000296 55                              	PUSH	EBP
   329 00000297 8B 15 [00000008]                	MOV	EDX,DWORD [_level]
   330 0000029D 89 E5                           	MOV	EBP,ESP
   331 0000029F 4A                              	DEC	EDX
   332 000002A0 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   333 000002A3 78 10                           	JS	L68
   334 000002A5                                 L66:
   335 000002A5 8B 04 8D [00000040]             	MOV	EAX,DWORD [_hanois+ECX*4]
   336 000002AC 83 3C 90 00                     	CMP	DWORD [EAX+EDX*4],0
   337 000002B0 7F 08                           	JG	L69
   338 000002B2 4A                              	DEC	EDX
   339 000002B3 79 F0                           	JNS	L66
   340 000002B5                                 L68:
   341 000002B5 83 C8 FF                        	OR	EAX,-1
   342 000002B8                                 L60:
   343 000002B8 5D                              	POP	EBP
   344 000002B9 C3                              	RET
   345 000002BA                                 L69:
   346 000002BA 89 D0                           	MOV	EAX,EDX
   347 000002BC EB FA                           	JMP	L60
   348 000002BE                                 	GLOBAL	_hanoi_up
   349 000002BE                                 _hanoi_up:
   350 000002BE 55                              	PUSH	EBP
   351 000002BF 89 E5                           	MOV	EBP,ESP
   352 000002C1 53                              	PUSH	EBX
   353 000002C2 83 3D [00000000] 00             	CMP	DWORD [_out_size],0
   354 000002C9 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   355 000002CC 74 05                           	JE	L75
   356 000002CE                                 L70:
   357 000002CE 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   358 000002D1 C9                              	LEAVE
   359 000002D2 C3                              	RET
   360 000002D3                                 L75:
   361 000002D3 FF 35 [00000004]                	PUSH	DWORD [_out_location]
   362 000002D9 E8 FFFFFFB8                     	CALL	_hanoi_gettop
   363 000002DE 89 C1                           	MOV	ECX,EAX
   364 000002E0 58                              	POP	EAX
   365 000002E1 83 F9 FF                        	CMP	ECX,-1
   366 000002E4 74 E8                           	JE	L70
   367 000002E6 A1 [00000004]                   	MOV	EAX,DWORD [_out_location]
   368 000002EB 8B 14 85 [00000040]             	MOV	EDX,DWORD [_hanois+EAX*4]
   369 000002F2 8B 04 8A                        	MOV	EAX,DWORD [EDX+ECX*4]
   370 000002F5 A3 [00000000]                   	MOV	DWORD [_out_size],EAX
   371 000002FA C7 04 8A 00000000               	MOV	DWORD [EDX+ECX*4],0
   372 00000301 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   373 00000304 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   374 00000307 C9                              	LEAVE
   375 00000308 E9 FFFFFE66                     	JMP	_hanoi_print
   376 0000030D                                 	GLOBAL	_hanoi_down
   377 0000030D                                 _hanoi_down:
   378 0000030D 55                              	PUSH	EBP
   379 0000030E 89 E5                           	MOV	EBP,ESP
   380 00000310 53                              	PUSH	EBX
   381 00000311 83 3D [00000000] 00             	CMP	DWORD [_out_size],0
   382 00000318 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   383 0000031B 75 05                           	JNE	L84
   384 0000031D                                 L76:
   385 0000031D 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   386 00000320 C9                              	LEAVE
   387 00000321 C3                              	RET
   388 00000322                                 L84:
   389 00000322 FF 35 [00000004]                	PUSH	DWORD [_out_location]
   390 00000328 E8 FFFFFF69                     	CALL	_hanoi_gettop
   391 0000032D 89 C2                           	MOV	EDX,EAX
   392 0000032F 58                              	POP	EAX
   393 00000330 83 FA FF                        	CMP	EDX,-1
   394 00000333 74 36                           	JE	L85
   395 00000335 A1 [00000004]                   	MOV	EAX,DWORD [_out_location]
   396 0000033A 8B 0C 85 [00000040]             	MOV	ECX,DWORD [_hanois+EAX*4]
   397 00000341 A1 [00000000]                   	MOV	EAX,DWORD [_out_size]
   398 00000346 39 04 91                        	CMP	DWORD [ECX+EDX*4],EAX
   399 00000349 7E D2                           	JLE	L76
   400 0000034B 89 44 91 04                     	MOV	DWORD [4+ECX+EDX*4],EAX
   401 0000034F                                 L83:
   402 0000034F C7 05 [00000000] 00000000       	MOV	DWORD [_out_size],0
   403 00000359 FF 05 [0000000C]                	INC	DWORD [_step]
   404 0000035F 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   405 00000362 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   406 00000365 C9                              	LEAVE
   407 00000366 E9 FFFFFE08                     	JMP	_hanoi_print
   408 0000036B                                 L85:
   409 0000036B A1 [00000004]                   	MOV	EAX,DWORD [_out_location]
   410 00000370 8B 14 85 [00000040]             	MOV	EDX,DWORD [_hanois+EAX*4]
   411 00000377 A1 [00000000]                   	MOV	EAX,DWORD [_out_size]
   412 0000037C 89 02                           	MOV	DWORD [EDX],EAX
   413 0000037E EB CF                           	JMP	L83
   414                                          [SECTION .data]
   415 00000013                                 LC1:
   416 00000013 68 61 6E 6F 69 00               	DB	"hanoi",0x00
   417 00000019                                 LC2:
   418 00000019 70 6C 65 61 73 65 20 69 6E 70   	DB	"please input the level:",0x00
       00000023 75 74 20 74 68 65 20 6C 65 76 
       0000002D 65 6C 3A 00 
   419 00000031                                 LC3:
   420 00000031 33 20 00                        	DB	"3 ",0x00
   421 00000034                                 LC4:
   422 00000034 59 4F 55 20 57 49 4E 21 00      	DB	"YOU WIN!",0x00
   423                                          [SECTION .text]
   424 00000380                                 	GLOBAL	_HariMain
   425 00000380                                 _HariMain:
   426 00000380 55                              	PUSH	EBP
   427 00000381 89 E5                           	MOV	EBP,ESP
   428 00000383 57                              	PUSH	EDI
   429 00000384 56                              	PUSH	ESI
   430 00000385 53                              	PUSH	EBX
   431 00000386 83 EC 14                        	SUB	ESP,20
   432 00000389 E8 [00000000]                   	CALL	_api_initmalloc
   433 0000038E 68 0000EA60                     	PUSH	60000
   434 00000393 E8 [00000000]                   	CALL	_api_malloc
   435 00000398 68 [00000013]                   	PUSH	LC1
   436 0000039D 6A FF                           	PUSH	-1
   437 0000039F 68 000000C8                     	PUSH	200
   438 000003A4 68 0000012C                     	PUSH	300
   439 000003A9 50                              	PUSH	EAX
   440 000003AA E8 [00000000]                   	CALL	_api_openwin
   441 000003AF 6A 00                           	PUSH	0
   442 000003B1 68 000000C1                     	PUSH	193
   443 000003B6 89 C6                           	MOV	ESI,EAX
   444 000003B8 68 00000127                     	PUSH	295
   445 000003BD 6A 1A                           	PUSH	26
   446 000003BF 6A 06                           	PUSH	6
   447 000003C1 50                              	PUSH	EAX
   448 000003C2 E8 [00000000]                   	CALL	_api_boxfilwin
   449 000003C7 83 C4 30                        	ADD	ESP,48
   450 000003CA 68 [00000019]                   	PUSH	LC2
   451 000003CF 6A 18                           	PUSH	24
   452 000003D1 6A 03                           	PUSH	3
   453 000003D3 6A 64                           	PUSH	100
   454 000003D5 6A 1E                           	PUSH	30
   455 000003D7 56                              	PUSH	ESI
   456 000003D8 E8 [00000000]                   	CALL	_api_putstrwin
   457 000003DD 68 [00000031]                   	PUSH	LC3
   458 000003E2 6A 18                           	PUSH	24
   459 000003E4 6A 03                           	PUSH	3
   460 000003E6 6A 64                           	PUSH	100
   461 000003E8 68 000000FA                     	PUSH	250
   462 000003ED 56                              	PUSH	ESI
   463 000003EE E8 [00000000]                   	CALL	_api_putstrwin
   464 000003F3 83 C4 30                        	ADD	ESP,48
   465 000003F6                                 L96:
   466 000003F6 6A 01                           	PUSH	1
   467 000003F8 E8 [00000000]                   	CALL	_api_getkey
   468 000003FD 6A 00                           	PUSH	0
   469 000003FF 68 000000C1                     	PUSH	193
   470 00000404 89 C3                           	MOV	EBX,EAX
   471 00000406 68 00000127                     	PUSH	295
   472 0000040B 6A 1A                           	PUSH	26
   473 0000040D 6A 06                           	PUSH	6
   474 0000040F 56                              	PUSH	ESI
   475 00000410 E8 [00000000]                   	CALL	_api_boxfilwin
   476 00000415 68 [00000019]                   	PUSH	LC2
   477 0000041A 6A 18                           	PUSH	24
   478 0000041C 6A 03                           	PUSH	3
   479 0000041E 6A 64                           	PUSH	100
   480 00000420 6A 1E                           	PUSH	30
   481 00000422 56                              	PUSH	ESI
   482 00000423 E8 [00000000]                   	CALL	_api_putstrwin
   483 00000428 83 C4 34                        	ADD	ESP,52
   484 0000042B 83 FB 0A                        	CMP	EBX,10
   485 0000042E 74 4D                           	JE	L116
   486 00000430 8D 43 CD                        	LEA	EAX,DWORD [-51+EBX]
   487 00000433 83 F8 06                        	CMP	EAX,6
   488 00000436 76 29                           	JBE	L117
   489 00000438 A0 [00000008]                   	MOV	AL,BYTE [_level]
   490 0000043D 83 C0 30                        	ADD	EAX,48
   491 00000440 88 45 E0                        	MOV	BYTE [-32+EBP],AL
   492 00000443 8D 45 E0                        	LEA	EAX,DWORD [-32+EBP]
   493 00000446 C6 45 E1 00                     	MOV	BYTE [-31+EBP],0
   494 0000044A                                 L114:
   495 0000044A 50                              	PUSH	EAX
   496 0000044B 6A 18                           	PUSH	24
   497 0000044D 6A 03                           	PUSH	3
   498 0000044F 6A 64                           	PUSH	100
   499 00000451 68 000000FA                     	PUSH	250
   500 00000456 56                              	PUSH	ESI
   501 00000457 E8 [00000000]                   	CALL	_api_putstrwin
   502 0000045C 83 C4 18                        	ADD	ESP,24
   503 0000045F EB 95                           	JMP	L96
   504 00000461                                 L117:
   505 00000461 8D 43 D0                        	LEA	EAX,DWORD [-48+EBX]
   506 00000464 A3 [00000008]                   	MOV	DWORD [_level],EAX
   507 00000469 A0 [00000008]                   	MOV	AL,BYTE [_level]
   508 0000046E 83 C0 30                        	ADD	EAX,48
   509 00000471 88 45 E2                        	MOV	BYTE [-30+EBP],AL
   510 00000474 8D 45 E2                        	LEA	EAX,DWORD [-30+EBP]
   511 00000477 C6 45 E3 00                     	MOV	BYTE [-29+EBP],0
   512 0000047B EB CD                           	JMP	L114
   513 0000047D                                 L116:
   514 0000047D A1 [00000008]                   	MOV	EAX,DWORD [_level]
   515 00000482 83 E8 03                        	SUB	EAX,3
   516 00000485 83 F8 06                        	CMP	EAX,6
   517 00000488 0F 87 FFFFFF68                  	JA	L96
   518 0000048E 56                              	PUSH	ESI
   519 0000048F 31 FF                           	XOR	EDI,EDI
   520 00000491 E8 FFFFFB6A                     	CALL	_hanoi_init
   521 00000496 58                              	POP	EAX
   522 00000497                                 L97:
   523 00000497 83 FF 01                        	CMP	EDI,1
   524 0000049A 74 5D                           	JE	L98
   525 0000049C 6A 01                           	PUSH	1
   526 0000049E E8 [00000000]                   	CALL	_api_getkey
   527 000004A3 89 C3                           	MOV	EBX,EAX
   528 000004A5 58                              	POP	EAX
   529 000004A6 83 FB 34                        	CMP	EBX,52
   530 000004A9 75 09                           	JNE	L118
   531 000004AB 56                              	PUSH	ESI
   532 000004AC E8 FFFFFDB0                     	CALL	_hanoi_left
   533 000004B1                                 L115:
   534 000004B1 58                              	POP	EAX
   535 000004B2 EB E3                           	JMP	L97
   536 000004B4                                 L118:
   537 000004B4 83 FB 34                        	CMP	EBX,52
   538 000004B7 7E 1A                           	JLE	L119
   539 000004B9 83 FB 36                        	CMP	EBX,54
   540 000004BC 75 08                           	JNE	L120
   541 000004BE 56                              	PUSH	ESI
   542 000004BF E8 FFFFFDB7                     	CALL	_hanoi_right
   543 000004C4 EB EB                           	JMP	L115
   544 000004C6                                 L120:
   545 000004C6 83 FB 38                        	CMP	EBX,56
   546 000004C9 75 CC                           	JNE	L97
   547 000004CB 56                              	PUSH	ESI
   548 000004CC E8 FFFFFDED                     	CALL	_hanoi_up
   549 000004D1 EB DE                           	JMP	L115
   550 000004D3                                 L119:
   551 000004D3 83 FB 32                        	CMP	EBX,50
   552 000004D6 75 BF                           	JNE	L97
   553 000004D8 56                              	PUSH	ESI
   554 000004D9 E8 FFFFFE2F                     	CALL	_hanoi_down
   555 000004DE 6A 02                           	PUSH	2
   556 000004E0 E8 FFFFFDB1                     	CALL	_hanoi_gettop
   557 000004E5 59                              	POP	ECX
   558 000004E6 8B 15 [00000008]                	MOV	EDX,DWORD [_level]
   559 000004EC 5B                              	POP	EBX
   560 000004ED 4A                              	DEC	EDX
   561 000004EE 39 D0                           	CMP	EAX,EDX
   562 000004F0 75 A5                           	JNE	L97
   563 000004F2 BF 00000001                     	MOV	EDI,1
   564 000004F7 EB 9E                           	JMP	L97
   565 000004F9                                 L98:
   566 000004F9 6A 00                           	PUSH	0
   567 000004FB 8D 5D E4                        	LEA	EBX,DWORD [-28+EBP]
   568 000004FE 68 000000C1                     	PUSH	193
   569 00000503 68 00000127                     	PUSH	295
   570 00000508 6A 1A                           	PUSH	26
   571 0000050A 6A 06                           	PUSH	6
   572 0000050C 56                              	PUSH	ESI
   573 0000050D E8 [00000000]                   	CALL	_api_boxfilwin
   574 00000512 68 [00000034]                   	PUSH	LC4
   575 00000517 6A 08                           	PUSH	8
   576 00000519 6A 03                           	PUSH	3
   577 0000051B 6A 64                           	PUSH	100
   578 0000051D 6A 1E                           	PUSH	30
   579 0000051F 56                              	PUSH	ESI
   580 00000520 E8 [00000000]                   	CALL	_api_putstrwin
   581 00000525 83 C4 30                        	ADD	ESP,48
   582 00000528 FF 35 [0000000C]                	PUSH	DWORD [_step]
   583 0000052E 68 [00000010]                   	PUSH	LC0
   584 00000533 53                              	PUSH	EBX
   585 00000534 E8 [00000000]                   	CALL	_sprintf
   586 00000539 53                              	PUSH	EBX
   587 0000053A 6A 08                           	PUSH	8
   588 0000053C 6A 03                           	PUSH	3
   589 0000053E 6A 64                           	PUSH	100
   590 00000540 6A 64                           	PUSH	100
   591 00000542 56                              	PUSH	ESI
   592 00000543 E8 [00000000]                   	CALL	_api_putstrwin
   593 00000548 83 C4 24                        	ADD	ESP,36
   594 0000054B                                 L110:
   595 0000054B EB FE                           	JMP	L110
   596 0000054D                                 	GLOBAL	_hanois
   597                                          [SECTION .data]
   598 0000003D 00 00 00                        	ALIGNB	8
   599 00000040                                 _hanois:
   600 00000040 00 00 00 00 00 00 00 00 00 00   	RESB	12
       0000004A 00 00 
